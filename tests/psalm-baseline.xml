<?xml version="1.0" encoding="UTF-8"?>
<!--
 - SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors
 - SPDX-License-Identifier: AGPL-3.0-or-later
-->
<files psalm-version="5.21.1@8c473e2437be8b6a8fd8f630f0f11a16b114c494">
  <file src="lib/AppConfig.php">
    <InvalidArgument>
      <code>[]</code>
    </InvalidArgument>
    <RedundantCondition>
      <code><![CDATA[array_key_exists($key, self::APP_SETTING_TYPES) && self::APP_SETTING_TYPES[$key] === 'array']]></code>
    </RedundantCondition>
  </file>
  <file src="lib/Command/ActivateConfig.php">
    <UndefinedClass>
      <code>Command</code>
    </UndefinedClass>
  </file>
  <file src="lib/Command/ConvertToBigInt.php">
    <UndefinedClass>
      <code>Command</code>
    </UndefinedClass>
  </file>
  <file src="lib/Command/InstallDefaultFonts.php">
    <UndefinedClass>
      <code>Command</code>
    </UndefinedClass>
  </file>
  <file src="lib/Command/UpdateEmptyTemplates.php">
    <UndefinedClass>
      <code>Command</code>
    </UndefinedClass>
  </file>
  <file src="lib/Controller/DirectViewController.php">
    <InvalidScalarArgument>
      <code><![CDATA[$item->getId()]]></code>
    </InvalidScalarArgument>
  </file>
  <file src="lib/Controller/DocumentAPIController.php">
    <UndefinedClass>
      <code>\OCA\Files\Helper</code>
    </UndefinedClass>
  </file>
  <file src="lib/Controller/DocumentController.php">
    <InvalidScalarArgument>
      <code><![CDATA[$node->getId()]]></code>
    </InvalidScalarArgument>
    <RedundantCondition>
      <code>$app !== ''</code>
    </RedundantCondition>
  </file>
  <file src="lib/Controller/SettingsController.php">
    <UndefinedClass>
      <code>NullOutput</code>
      <code>NullOutput</code>
    </UndefinedClass>
  </file>
  <file src="lib/Controller/TemplatesController.php">
    <InvalidReturnStatement>
      <code><![CDATA[$this->fetchPreview($template, $x, $y, $a, $forceIcon, $mode)]]></code>
    </InvalidReturnStatement>
    <InvalidReturnType>
      <code>DataResponse</code>
    </InvalidReturnType>
    <InvalidThrow>
      <code>NotFoundResponse</code>
    </InvalidThrow>
  </file>
  <file src="lib/Controller/WopiController.php">
    <NullArgument>
      <code>null</code>
    </NullArgument>
    <TypeDoesNotContainType>
      <code>$path === ''</code>
    </TypeDoesNotContainType>
    <UndefinedInterfaceMethod>
      <code>putContent</code>
      <code>putContent</code>
    </UndefinedInterfaceMethod>
  </file>
  <file src="lib/Helper.php">
    <InvalidScalarArgument>
      <code>$time</code>
    </InvalidScalarArgument>
  </file>
  <file src="lib/PermissionManager.php">
    <RedundantCondition>
      <code><![CDATA[$share && method_exists($share, 'getAttributes')]]></code>
    </RedundantCondition>
  </file>
  <file src="lib/Preview/Office.php">
    <MissingDependency>
      <code>Image</code>
    </MissingDependency>
    <UndefinedThisPropertyAssignment>
      <code><![CDATA[$this->capabilitites]]></code>
    </UndefinedThisPropertyAssignment>
  </file>
  <file src="lib/Service/ConnectivityService.php">
    <UndefinedClass>
      <code>OutputInterface</code>
      <code>OutputInterface</code>
    </UndefinedClass>
  </file>
  <file src="lib/Service/FederationService.php">
    <TypeDoesNotContainType>
      <code>is_array($trustedList)</code>
    </TypeDoesNotContainType>
    <UndefinedClass>
      <code>SharingExternalStorage</code>
    </UndefinedClass>
    <UndefinedInterfaceMethod>
      <code>getRemote</code>
      <code>getToken</code>
    </UndefinedInterfaceMethod>
  </file>
  <file src="lib/Template/CollaboraTemplateProvider.php">
    <InvalidReturnStatement>
      <code><![CDATA[array_map(function (File $file) {
			$template = new Template(CollaboraTemplateProvider::class, (string)$file->getId(), $file);
			$template->setCustomPreviewUrl($this->urlGenerator->linkToRouteAbsolute('richdocuments.templates.getPreview', ['fileId' => $file->getId()]));
			return $template;
		}, $collaboraTemplates)]]></code>
    </InvalidReturnStatement>
    <InvalidReturnType>
      <code>array</code>
    </InvalidReturnType>
  </file>
  <file src="lib/TemplateManager.php">
    <InvalidReturnStatement>
      <code>$template</code>
    </InvalidReturnStatement>
    <InvalidReturnType>
      <code>?File</code>
    </InvalidReturnType>
  </file>
  <file src="lib/WOPI/Parser.php">
    <RedundantCondition>
      <code><![CDATA[$result && count($result) > 0]]></code>
    </RedundantCondition>
  </file>
</files>
